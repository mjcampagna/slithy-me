---
slug: fancybox-5012
title: Fancybox 5.0.12 Test
---

import Fancybox from '../src/components/Fancybox'

## `data-height` and `data-width`

See the issue with the 16x9 images (1, 5 and 6).

<Fancybox
  delegate={`[data-fancybox="gallery"]`}
>
  {
    ([
      {
        fileName: '20220430-163523-mc-1004',
        height: 554,
        width: 1024,
      },
      {
        fileName: '20220430-163808-mc-1006',
        height: 640,
        width: 1024,
      },
      {
        fileName: '20220430-164123-mc-1014',
        height: 640,
        width: 1024,
      },
      {
        fileName: '20220430-173045-mc-1130',
        height: 640,
        width: 1024,
      },
      {
        fileName: '20220430-180945-mc-1151',
        height: 554,
        width: 1024,
      },
      {
        fileName: '20220430-181430-mc-1153',
        height: 554,
        width: 1024,
      },
    ]).map(photo => (
      <img
        data-fancybox="gallery"
        data-height={photo.height}
        data-src={`/img/photos/1024px/${photo.fileName}.jpg`}
        data-srcset={`/img/photos/1024px/${photo.fileName}.jpg 1x, /img/photos/2048px/${photo.fileName}.jpg 2x`}
        data-width={photo.width}
        src={`/img/photos/256px/${photo.fileName}.jpg`}
        srcset={`/img/photos/256px/${photo.fileName}.jpg 1x, /img/photos/512px/${photo.fileName}.jpg 2x`}
      />
    ))
  }
</Fancybox>

## `data-width` only

In this case, `data-height` is omitted, and the problem does not occur.

<Fancybox
  delegate={`[data-fancybox="gallery"]`}
>
  {
    ([
      {
        fileName: '20220430-163523-mc-1004',
        height: 554,
        width: 1024,
      },
      {
        fileName: '20220430-163808-mc-1006',
        height: 640,
        width: 1024,
      },
      {
        fileName: '20220430-164123-mc-1014',
        height: 640,
        width: 1024,
      },
      {
        fileName: '20220430-173045-mc-1130',
        height: 640,
        width: 1024,
      },
      {
        fileName: '20220430-180945-mc-1151',
        height: 554,
        width: 1024,
      },
      {
        fileName: '20220430-181430-mc-1153',
        height: 554,
        width: 1024,
      },
    ]).map(photo => (
      <img
        data-fancybox="gallery"
        data-src={`/img/photos/1024px/${photo.fileName}.jpg`}
        data-srcset={`/img/photos/1024px/${photo.fileName}.jpg 1x, /img/photos/2048px/${photo.fileName}.jpg 2x`}
        data-width={photo.width}
        src={`/img/photos/256px/${photo.fileName}.jpg`}
        srcset={`/img/photos/256px/${photo.fileName}.jpg 1x, /img/photos/512px/${photo.fileName}.jpg 2x`}
      />
    ))
  }
</Fancybox>

## Captions UI


<Fancybox
  delegate={`[data-fancybox="gallery"]`}
  options={{
    caption: (fancybox, slide) => {
      const toggleCaptionButton = `
        <button class="fb_caption-button">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
        </button>
      `
      return `<div>${slide.caption}</div>${toggleCaptionButton}`
    },
    commonCaption: true,
    compact: false,
    tpl: {
      main: `
        <div class="fancybox__container fb__kookaburra" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">
          <div class="fancybox__backdrop"></div>
          <div class="fancybox__carousel"></div>
          <div class="fancybox__footer"></div>
        </div>
      `,
    },
    on: {
      click: (fancybox, event) => {
        // prevent close on off-image click
        if (event.target.closest('.fancybox__slide')) {
          event.preventDefault();
        }
        // captions button
        if (event.target.closest('.fancybox__caption')) {
          console.log(event)
        }
      },
    },
  }}
>
  {
    ([
      {
        caption: "...",
        fileName: '20220430-163523-mc-1004',
        height: 554,
        width: 1024,
      },
      {
        caption: "...",
        fileName: '20220430-163808-mc-1006',
        height: 640,
        width: 1024,
      },
      {
        caption: "...",
        fileName: '20220430-164123-mc-1014',
        height: 640,
        width: 1024,
      },
      {
        caption: "...",
        fileName: '20220430-173045-mc-1130',
        height: 640,
        width: 1024,
      },
      {
        caption: "...",
        fileName: '20220430-180945-mc-1151',
        height: 554,
        width: 1024,
      },
      {
        caption: "...",
        fileName: '20220430-181430-mc-1153',
        height: 554,
        width: 1024,
      },
    ]).map(photo => (
      <img
        data-caption={photo.caption}
        data-fancybox="gallery"
        data-src={`/img/photos/1024px/${photo.fileName}.jpg`}
        data-srcset={`/img/photos/1024px/${photo.fileName}.jpg 1x, /img/photos/2048px/${photo.fileName}.jpg 2x`}
        data-width={photo.width}
        src={`/img/photos/256px/${photo.fileName}.jpg`}
        srcset={`/img/photos/256px/${photo.fileName}.jpg 1x, /img/photos/512px/${photo.fileName}.jpg 2x`}
      />
    ))
  }
</Fancybox>
